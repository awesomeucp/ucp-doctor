name: Bug Report
description: Report a bug or issue with UCP Doctor
title: "[Bug]: "
labels: ["bug", "needs-triage"]
body:
  - type: markdown
    attributes:
      value: |
        Thanks for taking the time to report a bug! Please fill out the information below to help us investigate and fix the issue.

  - type: input
    id: ucp-url
    attributes:
      label: UCP Implementation URL
      description: The URL of the UCP implementation you were testing (if applicable)
      placeholder: https://demo.awesomeucp.com
    validations:
      required: false

  - type: textarea
    id: expected-behavior
    attributes:
      label: Expected Behavior
      description: What did you expect to happen?
      placeholder: I expected the diagnostic check to pass...
    validations:
      required: true

  - type: textarea
    id: actual-behavior
    attributes:
      label: Actual Behavior
      description: What actually happened?
      placeholder: The diagnostic check failed with...
    validations:
      required: true

  - type: dropdown
    id: diagnostic-check
    attributes:
      label: Diagnostic Check
      description: Which diagnostic check failed or had issues? (if applicable)
      options:
        - Not applicable
        - Connectivity
        - Discovery Endpoint
        - JSON Format
        - Schema Validation
        - Version Format
        - Version Registry
        - Version Recency
        - HTTPS Enforcement
        - Endpoint Format
        - Capability Names
        - Capability Registry
        - Capability Extensions
        - Capability Completeness
        - Namespace Binding
        - Intersection Algorithm
        - Service Definitions
        - Service Endpoints
        - Payment Handlers
        - Signing Keys
        - Schema URLs
    validations:
      required: false

  - type: textarea
    id: steps-to-reproduce
    attributes:
      label: Steps to Reproduce
      description: Provide step-by-step instructions to reproduce the issue
      placeholder: |
        1. Go to UCP Doctor at http://localhost:3000
        2. Enter URL: https://example.com
        3. Click "Check"
        4. Observe error in...
    validations:
      required: true

  - type: textarea
    id: environment
    attributes:
      label: Environment
      description: Information about your environment
      value: |
        - Browser: [e.g., Chrome 120, Firefox 121]
        - OS: [e.g., Windows 11, macOS 14, Ubuntu 22.04]
        - UCP Doctor Version: [e.g., 1.0.0]
        - Node.js Version: [e.g., 20.10.0]
    validations:
      required: true

  - type: textarea
    id: error-logs
    attributes:
      label: Error Logs / Screenshots
      description: Paste any error messages, console logs, or attach screenshots
      placeholder: Paste error logs here or drag and drop screenshots
    validations:
      required: false

  - type: textarea
    id: additional-context
    attributes:
      label: Additional Context
      description: Any other information that might help us understand the issue
      placeholder: Add any other context about the problem here
    validations:
      required: false

  - type: checkboxes
    id: checklist
    attributes:
      label: Pre-submission Checklist
      description: Please confirm the following before submitting
      options:
        - label: I have searched existing issues to ensure this bug hasn't been reported
          required: true
        - label: I have provided all the required information above
          required: true
        - label: I am using the latest version of UCP Doctor (or have noted my version)
          required: false
